<head>
<title>Hijack</title>
<meta http-equiv="Content-Security-Policy" content="object-src 'none'; base-uri 'none'; require-trusted-types-for 'script';" />
<link rel="preload" href="https://rickroll.ndev.tk/utils.js" as="script">
<link rel="prerender" href="https://rickroll.ndev.tk/#noWait" />
<link rel="prerender" href="https://rickroll.ndev.tk/crash" />
<link rel="prerender" href="https://ndev.tk/rickroll.html" />
</head>
<script type="text/javascript" src="utils.js"></script>
<div id="init">
<h1>Hijack!</h1>
<p1>Attempts to crash browser if page is closed.</p1><br>
<button onclick="openLock('https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&controls=0')">Rickroll</button>
<button onclick="openLock('https://example.com/')">example.com</button>
<a href="https://ndev.tk/">Main</a>
<br>
</div>
<iframe id="frame" frameborder="0" scrolling="no" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<style>
body {
    margin: 0;
}
iframe {
    display: block;
    background: #000;
    border: none;
    height: 100vh;
    width: 100vw;
}
</style>
<script>
defence();

function openLock(url) {
	let settings = (navigator.userAgent.includes("Firefox")) ? "width=250,height=200" : "";
	init.hidden = true;
	lock = open("lock.html", "Locker", settings)
	detectClose(lock, "https://ransom.ndev.tk/lock.html");
	frame.src = url;
	
}
</script>
